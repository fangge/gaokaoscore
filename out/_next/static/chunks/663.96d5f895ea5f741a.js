"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[663],{8663:function(e,t,i){i.r(t),i.d(t,{default:function(){return r}});var o=i(6997),n=i(911),l=i(2838);function r(e){let{categoryData:t,userScore:i}=e,r=(0,n.useMemo)(()=>t&&t.length>0?[...t].sort((e,t)=>t.score-e.score):[],[t]),a=(0,n.useMemo)(()=>r.length>0?r[r.length-1].cumulative:0,[r]),d=0===r.length,s=(0,n.useMemo)(()=>{if("number"!=typeof i||0===r.length)return null;for(let e=0;e<r.length;e++)if(r[e].score<=i){let t=r[e].cumulative-r[e].count;return{score:i,rank:r[e].cumulative,percentile:(t/a*100).toFixed(2)}}return{score:i,rank:a,percentile:"0.00"}},[i,r,a]),c=(0,n.useMemo)(()=>r.map(e=>e.score),[r]),f=(0,n.useMemo)(()=>r.map(e=>e.count),[r]),p={tooltip:{trigger:d?void 0:"axis",axisPointer:{type:"shadow"},formatter:e=>{let t=e[0].axisValue,i=e[0].data,o=r.find(e=>e.score===t),n=((o?o.cumulative:0)-(o?o.count:0))/a*100;return n<.01&&n>0||n.toFixed(2),'\n          <div style="font-weight: bold; margin-bottom: 5px;">分数: '.concat(t,"</div>\n          <div>该分数人数: ").concat(i,"人</div>\n        ")}},graphic:d?{type:"text",left:"center",top:"middle",style:{text:"暂无该科目的分数分布数据",fontSize:16,fontWeight:"normal",fill:"#666"}}:void 0,grid:{left:50,right:30,top:60,bottom:60},xAxis:{type:"category",data:c,name:"分数",nameLocation:"middle",nameGap:30,nameTextStyle:{fontWeight:"bold",fontSize:16},axisLabel:{fontWeight:"bold",fontSize:12,interval:Math.ceil(c.length/20)}},yAxis:{type:"value",name:"人数",nameLocation:"middle",nameGap:40,nameTextStyle:{fontWeight:"bold",fontSize:16},axisLabel:{fontWeight:"bold",fontSize:14},splitLine:{lineStyle:{type:"dashed"}}},series:[{name:"分数分布",type:"bar",data:f,itemStyle:{color:"#4096ff"},markLine:i?{data:[{name:"您的分数",xAxis:i,lineStyle:{color:"#ff4d4f",width:2,type:"solid"},label:{formatter:"您的分数: ".concat(i),position:"insideEndTop",fontSize:14,fontWeight:"bold",color:"#ff4d4f"}}]}:void 0}]};return(0,o.jsxs)("div",{style:{width:"100%",height:"100%",position:"relative"},children:[(0,o.jsx)(l.Z,{option:p,style:{width:"100%",height:"100%"},opts:{renderer:"canvas"},notMerge:!0,lazyUpdate:!1}),"number"==typeof i&&s&&(0,o.jsxs)("div",{style:{position:"absolute",top:10,right:10,background:"rgba(255, 255, 255, 0.9)",padding:"10px 15px",borderRadius:8,boxShadow:"0 2px 8px rgba(0, 0, 0, 0.15)",border:"1px solid #f0f0f0"},children:[(0,o.jsx)("div",{style:{fontWeight:"bold",marginBottom:5,color:"#ff4d4f"},children:"您的排名情况"}),(0,o.jsxs)("div",{children:["分数: ",s.score]}),(0,o.jsxs)("div",{children:["排名: ",s.rank]}),(0,o.jsxs)("div",{children:["高于全省考生: ",s.percentile,"%"]})]})]})}}}]);